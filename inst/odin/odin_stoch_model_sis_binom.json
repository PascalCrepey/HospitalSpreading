{"version":"1.4.5","config":{"base":"odin_stoch_model_sis_binom","include":null,"custom":null},"meta":{"internal":"internal","user":"user","state":"state","result":"state_next","output":"output","time":"step","initial_time":"initial_step"},"features":{"continuous":false,"discrete":true,"mixed":false,"has_array":true,"has_output":true,"has_user":true,"has_delay":false,"has_interpolate":false,"has_stochastic":true,"has_include":false,"has_debug":false,"initial_time_dependent":false},"data":{"elements":[{"name":"alpha","location":"internal","storage_type":"double","rank":0,"dimnames":null,"stage":"user"},{"name":"beta","location":"internal","storage_type":"double","rank":0,"dimnames":null,"stage":"user"},{"name":"com_p","location":"internal","storage_type":"double","rank":0,"dimnames":null,"stage":"user"},{"name":"d","location":"internal","storage_type":"double","rank":2,"dimnames":{"length":"dim_d","dim":["dim_d_1","dim_d_2"],"mult":["","dim_d_1"]},"stage":"user"},{"name":"dim_d","location":"internal","storage_type":"int","rank":0,"dimnames":null,"stage":"user"},{"name":"dim_d_1","location":"internal","storage_type":"int","rank":0,"dimnames":null,"stage":"user"},{"name":"dim_d_2","location":"internal","storage_type":"int","rank":0,"dimnames":null,"stage":"user"},{"name":"dim_I","location":"internal","storage_type":"int","rank":0,"dimnames":null,"stage":"user"},{"name":"dim_i_initial","location":"internal","storage_type":"int","rank":0,"dimnames":null,"stage":"user"},{"name":"dim_I_temp","location":"internal","storage_type":"int","rank":0,"dimnames":null,"stage":"user"},{"name":"dim_N","location":"internal","storage_type":"int","rank":0,"dimnames":null,"stage":"user"},{"name":"dim_new_I","location":"internal","storage_type":"int","rank":0,"dimnames":null,"stage":"user"},{"name":"dim_new_S","location":"internal","storage_type":"int","rank":0,"dimnames":null,"stage":"user"},{"name":"dim_S","location":"internal","storage_type":"int","rank":0,"dimnames":null,"stage":"user"},{"name":"dim_s_initial","location":"internal","storage_type":"int","rank":0,"dimnames":null,"stage":"user"},{"name":"dim_S_prev","location":"internal","storage_type":"int","rank":0,"dimnames":null,"stage":"user"},{"name":"dim_S_temp","location":"internal","storage_type":"int","rank":0,"dimnames":null,"stage":"user"},{"name":"dim_t_I","location":"internal","storage_type":"int","rank":0,"dimnames":null,"stage":"user"},{"name":"dim_t_I_1","location":"internal","storage_type":"int","rank":0,"dimnames":null,"stage":"user"},{"name":"dim_t_I_2","location":"internal","storage_type":"int","rank":0,"dimnames":null,"stage":"user"},{"name":"dim_t_S","location":"internal","storage_type":"int","rank":0,"dimnames":null,"stage":"user"},{"name":"dim_t_S_1","location":"internal","storage_type":"int","rank":0,"dimnames":null,"stage":"user"},{"name":"dim_t_S_2","location":"internal","storage_type":"int","rank":0,"dimnames":null,"stage":"user"},{"name":"dim_t_tot","location":"internal","storage_type":"int","rank":0,"dimnames":null,"stage":"user"},{"name":"dim_t_tot_1","location":"internal","storage_type":"int","rank":0,"dimnames":null,"stage":"user"},{"name":"dim_t_tot_2","location":"internal","storage_type":"int","rank":0,"dimnames":null,"stage":"user"},{"name":"I","location":"variable","storage_type":"double","rank":1,"dimnames":{"length":"dim_I","dim":[],"mult":[]},"stage":"time"},{"name":"i_initial","location":"internal","storage_type":"double","rank":1,"dimnames":{"length":"dim_i_initial","dim":[],"mult":[]},"stage":"user"},{"name":"I_temp","location":"internal","storage_type":"double","rank":1,"dimnames":{"length":"dim_I_temp","dim":[],"mult":[]},"stage":"time"},{"name":"initial_I","location":"internal","storage_type":"double","rank":1,"dimnames":{"length":"dim_I","dim":[],"mult":[]},"stage":"user"},{"name":"initial_S","location":"internal","storage_type":"double","rank":1,"dimnames":{"length":"dim_S","dim":[],"mult":[]},"stage":"user"},{"name":"N","location":"internal","storage_type":"double","rank":1,"dimnames":{"length":"dim_N","dim":[],"mult":[]},"stage":"user"},{"name":"n_com_subpop","location":"internal","storage_type":"int","rank":0,"dimnames":null,"stage":"user"},{"name":"n_subpop","location":"internal","storage_type":"int","rank":0,"dimnames":null,"stage":"user"},{"name":"new_I","location":"internal","storage_type":"double","rank":1,"dimnames":{"length":"dim_new_I","dim":[],"mult":[]},"stage":"time"},{"name":"new_S","location":"internal","storage_type":"double","rank":1,"dimnames":{"length":"dim_new_S","dim":[],"mult":[]},"stage":"time"},{"name":"offset_output_t_I","location":"internal","storage_type":"int","rank":0,"dimnames":null,"stage":"user"},{"name":"S","location":"variable","storage_type":"double","rank":1,"dimnames":{"length":"dim_S","dim":[],"mult":[]},"stage":"time"},{"name":"s_initial","location":"internal","storage_type":"double","rank":1,"dimnames":{"length":"dim_s_initial","dim":[],"mult":[]},"stage":"user"},{"name":"S_prev","location":"internal","storage_type":"double","rank":1,"dimnames":{"length":"dim_S_prev","dim":[],"mult":[]},"stage":"time"},{"name":"S_temp","location":"internal","storage_type":"double","rank":1,"dimnames":{"length":"dim_S_temp","dim":[],"mult":[]},"stage":"time"},{"name":"t_I","location":"internal","storage_type":"double","rank":2,"dimnames":{"length":"dim_t_I","dim":["dim_t_I_1","dim_t_I_2"],"mult":["","dim_t_I_1"]},"stage":"time"},{"name":"t_S","location":"internal","storage_type":"double","rank":2,"dimnames":{"length":"dim_t_S","dim":["dim_t_S_1","dim_t_S_2"],"mult":["","dim_t_S_1"]},"stage":"time"},{"name":"t_tot","location":"internal","storage_type":"double","rank":2,"dimnames":{"length":"dim_t_tot","dim":["dim_t_tot_1","dim_t_tot_2"],"mult":["","dim_t_tot_1"]},"stage":"time"}],"variable":{"length":["+","dim_I","dim_S"],"contents":[{"name":"S","offset":0,"initial":"initial_S"},{"name":"I","offset":"dim_S","initial":"initial_I"}]},"output":{"length":["+",["+","dim_new_I","dim_t_I"],"dim_t_tot"],"contents":[{"name":"new_I","offset":0},{"name":"t_tot","offset":"dim_new_I"},{"name":"t_I","offset":"offset_output_t_I"}]}},"equations":[{"name":"alloc_I_temp","type":"alloc","source":[23],"depends":{"functions":[],"variables":["dim_I_temp"]},"lhs":"I_temp"},{"name":"alloc_initial_I","type":"alloc","source":[19],"depends":{"functions":[],"variables":["dim_I"]},"lhs":"initial_I"},{"name":"alloc_initial_S","type":"alloc","source":[18],"depends":{"functions":[],"variables":["dim_S"]},"lhs":"initial_S"},{"name":"alloc_new_I","type":"alloc","source":[26],"depends":{"functions":[],"variables":["dim_new_I"]},"lhs":"new_I"},{"name":"alloc_new_S","type":"alloc","source":[25],"depends":{"functions":[],"variables":["dim_new_S"]},"lhs":"new_S"},{"name":"alloc_S_prev","type":"alloc","source":[31],"depends":{"functions":[],"variables":["dim_S_prev"]},"lhs":"S_prev"},{"name":"alloc_S_temp","type":"alloc","source":[22],"depends":{"functions":[],"variables":["dim_S_temp"]},"lhs":"S_temp"},{"name":"alloc_t_I","type":"alloc","source":[37],"depends":{"functions":[],"variables":["dim_t_I"]},"lhs":"t_I"},{"name":"alloc_t_S","type":"alloc","source":[36],"depends":{"functions":[],"variables":["dim_t_S"]},"lhs":"t_S"},{"name":"alloc_t_tot","type":"alloc","source":[38],"depends":{"functions":[],"variables":["dim_t_tot"]},"lhs":"t_tot"},{"name":"alpha","type":"user","source":[6],"depends":null,"lhs":"alpha","user":{"default":null,"dim":false,"min":null,"max":null}},{"name":"beta","type":"user","source":[5],"depends":null,"lhs":"beta","user":{"default":null,"dim":false,"min":null,"max":null}},{"name":"com_p","type":"user","source":[7],"depends":null,"lhs":"com_p","user":{"default":null,"dim":false,"min":null,"max":null}},{"name":"d","type":"user","source":[15],"depends":{"functions":["dim"],"variables":["dim_d"]},"lhs":"d","user":{"default":null,"dim":false,"min":null,"max":null}},{"name":"dim_d","type":"expression_scalar","source":[33],"depends":{"functions":[],"variables":["dim_d_1","dim_d_2"]},"lhs":"dim_d","rhs":{"value":["*","dim_d_1","dim_d_2"]}},{"name":"dim_d_1","type":"expression_scalar","source":[33],"depends":{"functions":[],"variables":["n_com_subpop"]},"lhs":"dim_d_1","rhs":{"value":"n_com_subpop"}},{"name":"dim_d_2","type":"expression_scalar","source":[33],"depends":{"functions":[],"variables":["n_com_subpop"]},"lhs":"dim_d_2","rhs":{"value":"n_com_subpop"}},{"name":"dim_I","type":"expression_scalar","source":[19],"depends":{"functions":[],"variables":["n_subpop"]},"lhs":"dim_I","rhs":{"value":"n_subpop"}},{"name":"dim_i_initial","type":"expression_scalar","source":[29],"depends":{"functions":[],"variables":["n_subpop"]},"lhs":"dim_i_initial","rhs":{"value":"n_subpop"}},{"name":"dim_I_temp","type":"expression_scalar","source":[23],"depends":{"functions":[],"variables":["n_subpop"]},"lhs":"dim_I_temp","rhs":{"value":"n_subpop"}},{"name":"dim_N","type":"expression_scalar","source":[20],"depends":{"functions":[],"variables":["n_subpop"]},"lhs":"dim_N","rhs":{"value":"n_subpop"}},{"name":"dim_new_I","type":"expression_scalar","source":[26],"depends":{"functions":[],"variables":["n_subpop"]},"lhs":"dim_new_I","rhs":{"value":"n_subpop"}},{"name":"dim_new_S","type":"expression_scalar","source":[25],"depends":{"functions":[],"variables":["n_subpop"]},"lhs":"dim_new_S","rhs":{"value":"n_subpop"}},{"name":"dim_S","type":"expression_scalar","source":[18],"depends":{"functions":[],"variables":["n_subpop"]},"lhs":"dim_S","rhs":{"value":"n_subpop"}},{"name":"dim_s_initial","type":"expression_scalar","source":[28],"depends":{"functions":[],"variables":["n_subpop"]},"lhs":"dim_s_initial","rhs":{"value":"n_subpop"}},{"name":"dim_S_prev","type":"expression_scalar","source":[31],"depends":{"functions":[],"variables":["n_com_subpop"]},"lhs":"dim_S_prev","rhs":{"value":"n_com_subpop"}},{"name":"dim_S_temp","type":"expression_scalar","source":[22],"depends":{"functions":[],"variables":["n_subpop"]},"lhs":"dim_S_temp","rhs":{"value":"n_subpop"}},{"name":"dim_t_I","type":"expression_scalar","source":[37],"depends":{"functions":[],"variables":["dim_t_I_1","dim_t_I_2"]},"lhs":"dim_t_I","rhs":{"value":["*","dim_t_I_1","dim_t_I_2"]}},{"name":"dim_t_I_1","type":"expression_scalar","source":[37],"depends":{"functions":[],"variables":["n_com_subpop"]},"lhs":"dim_t_I_1","rhs":{"value":"n_com_subpop"}},{"name":"dim_t_I_2","type":"expression_scalar","source":[37],"depends":{"functions":[],"variables":["n_com_subpop"]},"lhs":"dim_t_I_2","rhs":{"value":"n_com_subpop"}},{"name":"dim_t_S","type":"expression_scalar","source":[36],"depends":{"functions":[],"variables":["dim_t_S_1","dim_t_S_2"]},"lhs":"dim_t_S","rhs":{"value":["*","dim_t_S_1","dim_t_S_2"]}},{"name":"dim_t_S_1","type":"expression_scalar","source":[36],"depends":{"functions":[],"variables":["n_com_subpop"]},"lhs":"dim_t_S_1","rhs":{"value":"n_com_subpop"}},{"name":"dim_t_S_2","type":"expression_scalar","source":[36],"depends":{"functions":[],"variables":["n_com_subpop"]},"lhs":"dim_t_S_2","rhs":{"value":"n_com_subpop"}},{"name":"dim_t_tot","type":"expression_scalar","source":[38],"depends":{"functions":[],"variables":["dim_t_tot_1","dim_t_tot_2"]},"lhs":"dim_t_tot","rhs":{"value":["*","dim_t_tot_1","dim_t_tot_2"]}},{"name":"dim_t_tot_1","type":"expression_scalar","source":[38],"depends":{"functions":[],"variables":["n_com_subpop"]},"lhs":"dim_t_tot_1","rhs":{"value":"n_com_subpop"}},{"name":"dim_t_tot_2","type":"expression_scalar","source":[38],"depends":{"functions":[],"variables":["n_com_subpop"]},"lhs":"dim_t_tot_2","rhs":{"value":"n_com_subpop"}},{"name":"i_initial","type":"user","source":[13],"depends":{"functions":["length"],"variables":["dim_i_initial"]},"lhs":"i_initial","user":{"default":null,"dim":false,"min":null,"max":null}},{"name":"I_temp","type":"expression_array","source":[63],"depends":{"functions":["length","+","-","[","odin_sum","dim"],"variables":["dim_I_temp","I","i","t_I","dim_t_I","alloc_I_temp"]},"lhs":"I_temp","rhs":[{"index":[{"value":[":",1,["length","I_temp"]],"is_range":true,"index":"i"}],"value":["+",["-",["[","I","i"],["odin_sum","t_I","i","i",1,["dim","t_I",2]]],["odin_sum","t_I",1,["dim","t_I",1],"i","i"]]}]},{"name":"initial_I","type":"expression_array","source":[76],"depends":{"functions":["length","["],"variables":["dim_I","i_initial","i"]},"lhs":"initial_I","rhs":[{"index":[{"value":[":",1,["length","I"]],"is_range":true,"index":"i"}],"value":["[","i_initial","i"]}]},{"name":"initial_S","type":"expression_array","source":[75],"depends":{"functions":["length","["],"variables":["dim_S","s_initial","i"]},"lhs":"initial_S","rhs":[{"index":[{"value":[":",1,["length","S"]],"is_range":true,"index":"i"}],"value":["[","s_initial","i"]}]},{"name":"N","type":"user","source":[14],"depends":{"functions":["length"],"variables":["dim_N"]},"lhs":"N","user":{"default":null,"dim":false,"min":null,"max":null}},{"name":"n_com_subpop","type":"expression_scalar","source":[10],"depends":{"functions":["+"],"variables":["n_subpop"]},"lhs":"n_com_subpop","rhs":{"value":["+","n_subpop",1]}},{"name":"n_subpop","type":"user","source":[9],"depends":null,"lhs":"n_subpop","user":{"default":null,"dim":false,"min":null,"max":null}},{"name":"new_I","type":"expression_array","source":[66],"depends":{"functions":["length","rbinom","[","-","exp","/","*"],"variables":["dim_new_I","S_temp","i","beta","I_temp","N","alloc_new_I"]},"lhs":"new_I","rhs":[{"index":[{"value":[":",1,["length","new_I"]],"is_range":true,"index":"i"}],"value":["rbinom",["[","S_temp","i"],["-",1,["exp",["/",["*",["-","beta"],["[","I_temp","i"]],["[","N","i"]]]]]}]},{"name":"new_S","type":"expression_array","source":[67],"depends":{"functions":["length","rbinom","[","-","exp"],"variables":["dim_new_S","I_temp","i","alpha","alloc_new_S"]},"lhs":"new_S","rhs":[{"index":[{"value":[":",1,["length","new_S"]],"is_range":true,"index":"i"}],"value":["rbinom",["[","I_temp","i"],["-",1,["exp",["-","alpha"]]]]}]},{"name":"offset_output_t_I","type":"expression_scalar","source":[],"depends":{"functions":["+"],"variables":["dim_new_I","dim_t_tot"]},"lhs":"offset_output_t_I","rhs":{"value":["+","dim_new_I","dim_t_tot"]}},{"name":"output_new_I","type":"copy","source":[82],"depends":{"functions":[],"variables":["new_I"]},"lhs":"new_I"},{"name":"output_t_I","type":"copy","source":[84],"depends":{"functions":[],"variables":["t_I"]},"lhs":"t_I"},{"name":"output_t_tot","type":"copy","source":[83],"depends":{"functions":[],"variables":["t_tot"]},"lhs":"t_tot"},{"name":"s_initial","type":"user","source":[12],"depends":{"functions":["length"],"variables":["dim_s_initial"]},"lhs":"s_initial","user":{"default":null,"dim":false,"min":null,"max":null}},{"name":"S_prev","type":"expression_array","source":[45,46],"depends":{"functions":["/","["],"variables":["n_subpop","dim_S_prev","S","i","N","n_com_subpop","com_p","alloc_S_prev"]},"lhs":"S_prev","rhs":[{"index":[{"value":[":",1,"n_subpop"],"is_range":true,"index":"i"}],"value":["/",["[","S","i"],["[","N","i"]]},{"index":[{"value":"n_com_subpop","is_range":false,"index":"i"}],"value":"com_p"}]},{"name":"S_temp","type":"expression_array","source":[62],"depends":{"functions":["length","+","-","[","odin_sum","dim"],"variables":["dim_S_temp","S","i","t_S","dim_t_S","alloc_S_temp"]},"lhs":"S_temp","rhs":[{"index":[{"value":[":",1,["length","S_temp"]],"is_range":true,"index":"i"}],"value":["+",["-",["[","S","i"],["odin_sum","t_S","i","i",1,["dim","t_S",2]]],["odin_sum","t_S",1,["dim","t_S",1],"i","i"]]}]},{"name":"t_I","type":"expression_array","source":[56],"depends":{"functions":["dim","-","["],"variables":["dim_t_I","d","i","j","t_S","alloc_t_I"]},"lhs":"t_I","rhs":[{"index":[{"value":[":",1,["dim","t_I",1]],"is_range":true,"index":"i"},{"value":[":",1,["dim","t_I",2]],"is_range":true,"index":"j"}],"value":["-",["[","d","i","j"],["[","t_S","i","j"]]}]},{"name":"t_S","type":"expression_array","source":[53],"depends":{"functions":["dim","min","[","round","*"],"variables":["dim_t_S","S","i","d","j","S_prev","alloc_t_S"]},"lhs":"t_S","rhs":[{"index":[{"value":[":",1,["dim","t_S",1]],"is_range":true,"index":"i"},{"value":[":",1,["dim","t_S",2]],"is_range":true,"index":"j"}],"value":["min",["[","S","i"],["round",["*",["[","d","i","j"],["[","S_prev","i"]]]]}]},{"name":"t_tot","type":"expression_array","source":[59],"depends":{"functions":["dim","+","["],"variables":["dim_t_tot","t_S","i","j","t_I","alloc_t_tot"]},"lhs":"t_tot","rhs":[{"index":[{"value":[":",1,["dim","t_tot",1]],"is_range":true,"index":"i"},{"value":[":",1,["dim","t_tot",2]],"is_range":true,"index":"j"}],"value":["+",["[","t_S","i","j"],["[","t_I","i","j"]]}]},{"name":"update_I","type":"expression_array","source":[70],"depends":{"functions":["length","-","+","["],"variables":["dim_I","I_temp","i","new_I","new_S"]},"lhs":"I","rhs":[{"index":[{"value":[":",1,["length","I"]],"is_range":true,"index":"i"}],"value":["-",["+",["[","I_temp","i"],["[","new_I","i"]],["[","new_S","i"]]}]},{"name":"update_S","type":"expression_array","source":[69],"depends":{"functions":["length","+","-","["],"variables":["dim_S","S_temp","i","new_I","new_S"]},"lhs":"S","rhs":[{"index":[{"value":[":",1,["length","S"]],"is_range":true,"index":"i"}],"value":["+",["-",["[","S_temp","i"],["[","new_I","i"]],["[","new_S","i"]]}]}],"debug":[],"components":{"create":{"variables":[],"equations":[]},"user":{"variables":[],"equations":["alpha","beta","com_p","n_subpop","dim_I","dim_i_initial","dim_I_temp","dim_N","dim_new_I","dim_new_S","dim_S","dim_s_initial","dim_S_temp","n_com_subpop","alloc_I_temp","alloc_initial_I","alloc_initial_S","alloc_new_I","alloc_new_S","alloc_S_temp","dim_d_1","dim_d_2","dim_S_prev","dim_t_I_1","dim_t_I_2","dim_t_S_1","dim_t_S_2","dim_t_tot_1","dim_t_tot_2","i_initial","N","s_initial","alloc_S_prev","dim_d","dim_t_I","dim_t_S","dim_t_tot","initial_I","initial_S","alloc_t_I","alloc_t_S","alloc_t_tot","d","offset_output_t_I"]},"initial":{"variables":[],"equations":[]},"rhs":{"variables":["S","I"],"equations":["S_prev","t_S","S_temp","t_I","I_temp","new_I","new_S","update_I","update_S"]},"update_stochastic":{"variables":[],"equations":[]},"output":{"variables":["S","I"],"equations":["S_prev","t_S","S_temp","t_I","I_temp","output_t_I","t_tot","new_I","output_t_tot","output_new_I"]}},"user":[{"name":"alpha","has_default":false},{"name":"beta","has_default":false},{"name":"com_p","has_default":false},{"name":"d","has_default":false},{"name":"i_initial","has_default":false},{"name":"N","has_default":false},{"name":"n_subpop","has_default":false},{"name":"s_initial","has_default":false}],"interpolate":{"min":[],"max":[],"critical":[]},"source":["##############################","# PARAMETERS","##############################","# User-specified parameters","beta <- user()","alpha <- user()","com_p <- user()","","n_subpop <- user()","n_com_subpop <- n_subpop+1","","s_initial[] <- user()","i_initial[] <- user()","N[] <- user()","d[,] <- user()","","# Dimension of variables","dim(S) <- n_subpop","dim(I) <- n_subpop","dim(N) <- n_subpop","","dim(S_temp) <- n_subpop","dim(I_temp) <- n_subpop","","dim(new_S) <- n_subpop","dim(new_I) <- n_subpop","","dim(s_initial) <- n_subpop","dim(i_initial) <- n_subpop","","dim(S_prev) <- n_com_subpop","","dim(d) <- c(n_com_subpop, n_com_subpop)","# dim(d_prob_out) <- c(n_com_subpop, n_com_subpop)","# dim(t_S_out_all) <- n_com_subpop","dim(t_S) <- c(n_com_subpop, n_com_subpop)","dim(t_I) <- c(n_com_subpop, n_com_subpop)","dim(t_tot) <- c(n_com_subpop, n_com_subpop)","","##############################","# MODEL","##############################","# 1. TRAVEL STEP----------------------------","# Prevalence of susceptible","S_prev[1:n_subpop] <- S[i]/N[i]","S_prev[n_com_subpop] <- com_p","","# Distribution of transferred susceptible individuals into the connected subpopulations","# d_prob_out[,] <- d[i,j] / sum(d[i,])","# t_S_out_all[] <- if (i<n_subpop+1) min(S[i], rbinom(sum(d[i,]), S_prev[i])) else rbinom(sum(d[i,]), S_prev[i])","# t_S[,1] <- rbinom(t_S_out_all[i], d_prob_out[i,1])","# t_S[,2:n_com_subpop] <- rbinom(t_S_out_all[i] - sum(t_S[i,1:(i-1)]), d_prob_out[i,j])","t_S[,] <- min(S[i], round(d[i,j]*S_prev[i]))","","# Number of transferred infected individuals","t_I[,] <- d[i,j]-t_S[i,j]","","# Total number of transfers","t_tot[,] <- t_S[i,j] + t_I[i,j]","","# Update compartments","S_temp[] <- S[i] - sum(t_S[i,]) + sum(t_S[,i])","I_temp[] <- I[i] - sum(t_I[i,]) + sum(t_I[,i])","","# 2. STEP EPIDEMICS--------------------------","new_I[] <- rbinom(S_temp[i], 1-exp(-beta*I_temp[i]/N[i]))","new_S[] <- rbinom(I_temp[i], 1-exp(-alpha))","","update(S[]) <- S_temp[i] - new_I[i] + new_S[i]","update(I[]) <- I_temp[i] + new_I[i] - new_S[i]","","##############################","# INITIAL CONDITIONS","##############################","initial(S[]) <- s_initial[i]","initial(I[]) <- i_initial[i]","","##############################","# ADDITIONNAL VARIABLES TO","# STORE AT EACH TIME STEP","##############################","output(new_I[]) <- TRUE","output(t_tot[,]) <- TRUE","output(t_I[,]) <- TRUE"]}
